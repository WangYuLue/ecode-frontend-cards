### 1、webpack 中，有哪些优化方式?

#### (1)、exclude/include 精确打包文件

```js
module.exports = {
  //...
  module: {
    rules: [
      {
        test: /\.js[x]?$/,
        use: ['babel-loader'],
        include: [path.resolve(__dirname, 'src')]
      }
    ]
  }
}
```

#### (2)、esbuild loader

通过 esbuild 来打包以及压缩代码，极大提升构建速度：

```diff
  module.exports = {
    module: {
      rules: [
-       {
-         test: /\.js$/,
-         use: 'babel-loader',
-       },
+       {
+         test: /\.js$/,
+         loader: 'esbuild-loader',
+         options: {
+           loader: 'jsx'
+         }
+       },

        ...
      ],
    },
  }
```

[npm:esbuild-loader](https://www.npmjs.com/package/esbuild-loader)

#### (3)、使用 webpack 自带的 externals 排除第三方引用的包

```js
const nodeExternals = require('webpack-node-externals');
...
module.exports = {
    ...
    target: 'node', // in order to ignore built-in modules like path, fs, etc.
    externals: [nodeExternals()], 
    ...
};
```

[webpack:externals docs](https://webpack.docschina.org/configuration/externals/)

[npm:webpack-node-externals](https://www.npmjs.com/package/webpack-node-externals)

#### (4)、使用 HardSourceWebpackPlugin 提供构建缓存

[npm:hard-source-webpack-plugin](https://www.npmjs.com/package/hard-source-webpack-plugin)

#### (5)、使用 webpack 自带的 noParse 排除第三方引用的包

noParse 可以防止 webpack 解析那些任何与给定正则表达式相匹配的文件。忽略的文件中**不应该含有** `import`, `require`, `define` 的调用，或任何其他导入机制。忽略大型的 library 可以提高构建性能。

```js
module.exports = {
  //...
  module: {
    noParse: /jquery|lodash/,
  },
};
```

[webpack:noParse docs](https://webpack.docschina.org/configuration/module/#modulenoparse)

#### (6)、DLLPlugin

DLLPlugin 目前使用相对比较少。

参考文章：

[带你深度解锁Webpack系列(优化篇)](https://juejin.cn/post/6844904093463347208)

### 2、webpack 中，plugin 和 loader 有什么区别？

### 3、用过哪些 webpack plugin?

#### (1)、`copy-webpack-plugin` 插件，可以将项目中的目录复制到构建目录：

```js
const CopyPlugin = require('copy-webpack-plugin');

module.exports = {
  plugins: [
    new CopyPlugin({
      patterns: [
        { from: 'source', to: 'dest' },
        { from: 'other', to: 'public' },
      ],
    }),
  ],
};
```

### 4、与 webpack 类似的构建工具还有哪些？

- esbuild
- vite
- snowpack
- rollup
- parcel
